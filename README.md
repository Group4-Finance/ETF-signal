# ETF-signal

ETF 清單（含代碼與類型)-----來源:TWSE官網

雖無公開 API，但 HTML 結構穩定，可用 requests 爬蟲。


每日收盤價-----來源:yfinance

##
# 📊 ETF買賣決策助理

本專案旨在建立一個買賣決策助理，整合 ETF 折溢價、財經新聞及網路輿論與市場恐慌指數（VIX）等資訊，
計算每日總體投資分數，並轉換為投資參考的「紅綠燈」指標，以協助投資者判斷 ETF 的進出場時機。

---

## 🔍 功能簡介

- 計算 ETF 的 **折溢價 Z-score 分數** 
- 整合 **鉅亨網、兆豐金、PTT** 三大來源計算每日新聞情緒分數  
- 匯入每日 **VIX 恐慌指數** 納入總分評估  
- 計算加權總分，轉換為 **「深綠、淺綠、黃、淺紅、紅燈」五級投資燈號**  
- 產出互動式圖表，並輸出每日總分與燈號結果(`CSV`)

---

## 🗂️ 專案架構

ETF_signal/
│
├── ETF_data/
│ ├── MoneyDJ_ETF_PremiumDiscount_ETF.csv # 各 ETF 折溢價資料
│ ├── sentiment_result.csv # 新聞情緒及輿情資料分析
│ └── vix_daily.csv # VIX 恐慌指數每日資料
│
├── main.py # 主程式，產出評分與互動圖表
├── 簡易回測結果.csv # 匯出：每日評分與燈號檔案
└── signal_plot_interactive.html # 匯出：互動式燈號圖表

## ⚙️ 安裝與執行

1️⃣ 安裝套件
pip install pandas matplotlib numpy plotly

2️⃣ 執行主程式
請將資料放入 ETF_data/ 目錄，並執行下列指令：
python main.py

## 📈 輸出資料說明
簡易回測結果.csv：包含每日市價、折溢價率、新聞情緒、VIX 分數、總分與對應燈號
signal_plot_interactive.html：互動式市價與燈號變化圖，可用瀏覽器開啟觀察訊號

## 🧮 加權分數計算邏輯

總分 = 
  折溢價分數 × 0.5 +
  鉅亨網情緒分數 × 0.1 +
  兆豐新聞情緒分數 × 0.1 +
  PTT輿情分數 × 0.1 +
  VIX恐慌指數分數 × 0.2

## 🚦 燈號分類規則

| 總分範圍         | 燈號       |
|-----------------|------------|
| ≥ 0.8           | 🟢 深綠燈  |
| 0.1 ~ 0.8       | 🟢 淺綠燈  |
| -0.3 ~ 0.1      | 🟡 黃燈    |
| -0.8 ~ -0.3     | 🔴 淺紅燈  |
| ≤ -0.8          | 🔴 紅燈    |

## 📌 資料來源與時間
資料收集區間：2020年1月1日至2025年5月31日
ETF 折溢價率：MoneyDJ
新聞情緒資料：鉅亨新聞網、兆豐新聞網(每日新聞)
網路輿情資料：PTT財經版
VIX 恐慌指數：Yahoo Finance 
